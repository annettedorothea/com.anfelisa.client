/********************************************************************************
 * generated by de.acegen
 ********************************************************************************/




import Action from "./Action";
import * as ACEController from "./ACEController";
import * as AppState from "../../src/AppState";
import * as AppUtils from "../../src/AppUtils";

export default class SynchronousAction extends Action {

    constructor(actionName, callback) {
    	super(actionName, callback);
    	this.asynchronous = false;
    }
    
	apply(data) {
	    ACEController.addItemToTimeLine({
	        appState: AppState.get([])
	    });
	    ACEController.addItemToTimeLine({
	        action: {
	            actionName: this.actionName,
	            data
	        }
	    });
	    this.initSquishy(data);
	    try {
	        this.applyAction(data);
	    } catch (error) {
			ACEController.addItemToTimeLine({
				error: {
					actionName: this.actionName,
					error
				}
			});
	        AppUtils.displayUnexpectedError(error);
	    }
	}

    applyAction(data) {
        data = this.initActionData(data);
	    let command = this.getCommand();
	    command.executeCommand(data);
    }
}





/******* S.D.G. *******/




