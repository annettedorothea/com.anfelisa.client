/********************************************************************************
 * generated by de.acegen 1.1.0
 ********************************************************************************/

import React from "react";
import {Texts} from "../app/Texts";
import Utils from "../../gen/ace/Utils";
import {route} from "../../gen/common/ActionFunctions";
import {SpinnerComponent} from "../../gen/components/rootContainer/SpinnerComponent";
import {SaveBugDialogComponent} from "../../gen/components/rootContainer/SaveBugDialogComponent";
import {VersionMismatchDialogComponent} from "../../gen/components/rootContainer/VersionMismatchDialogComponent";
import {VersionMismatchErrorDialogComponent} from "../../gen/components/rootContainer/VersionMismatchErrorDialogComponent";
import {MainViewComponent} from "../../gen/components/rootContainer/MainViewComponent";
import {LoggedInUserComponent} from "../../gen/components/rootContainer/LoggedInUserComponent";
import {MessagesItemComponent} from "../../gen/components/rootContainer/MessagesItemComponent";

const content = (props) => (
    <div>
        <SpinnerComponent language={props.language}/>
        <SaveBugDialogComponent language={props.language}/>
        <VersionMismatchDialogComponent language={props.language}/>
        <VersionMismatchErrorDialogComponent language={props.language}/>
        <div className="toastContainer">
            {props.messages ? props.messages.map((message) =>
                <MessagesItemComponent {...message} language={props.language} key={message.id}/>) : []}
        </div>
        <MainViewComponent role={props.role} language={props.language}/>
        <div className={`footer ${props.loggedInUser === undefined ? "fixed" : ""}`}>
            <div className="footerContent">
                <h1>{Texts.container.about[props.language]}</h1>
                <p>
                    Annette Pohl &middot; St.-Josef-Str. 20 &middot; 56068 Koblenz
                </p>
                <p>
                    0261 1393793 &middot; <a href="mailto:info@anfelisa.de">info@anfelisa.de</a>
                </p>
                <p>
                    {Texts.container.version[props.language]} {Utils.settings ? Utils.settings.clientVersion : ""}
                </p>
                <p>
                    <a onClick={() =>
                        Utils.saveTimeline(
                            "no description",
                            props.mainView && props.mainView.loggedInUser ? props.mainView.loggedInUser.username : "anonymous"
                        )}
                       target="ace">save timeline</a>
                </p>
                <p>
                    <a onClick={() => route("#privacypolicy")}>{Texts.login.privacyPolicy[props.language]}</a>
                </p>
            </div>
        </div>
    </div>
)

export function uiElement(props) {
    if (props.loggedInUser) {
        return <div id="rootContainer" className="wrapper">
            <div className="header">
                <a
                    onClick={() => route("#dashboard")}
                    className="title"
                >
                    Anfelisa
                </a>
                <LoggedInUserComponent role={props.role} language={props.language} {...props.loggedInUser}/>
            </div>
            <div className="content">{content(props)}</div>
        </div>
    }
    return <div id="rootContainer">
        <LoggedInUserComponent />
        {content(props)}
    </div>
}


/******* S.D.G. *******/



