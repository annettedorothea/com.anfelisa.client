navigation

target ES6

actions {
	ReadPublicCourses executes ReadPublicCourses
	ReadPublicLessons executes ReadPublicLessons
	ReadPublicTests executes ReadPublicTests
	ReadPublicTest executes ReadPublicTest
	ReadPrivateCourses executes ReadPrivateCourses
	ReadPrivateLessons executes ReadPrivateLessons
	ReadPrivateTests executes ReadPrivateTests
	ReadPrivateTest executes ReadPrivateTest
	ReadResult executes ReadResult
	ReadStatistics executes ReadStatistics
	ReadBoxes executes ReadBoxes
	ReadNextCard executes ReadNextCard
	ReadReinforceCards executes ReadReinforceCards
}

commands {
	ReadPublicCourses {
		on ok publishes ( PublicCoursesRead )
	}
	ReadPublicLessons {
		on ok publishes ( PublicLessonsRead )
	}
	ReadPublicTests {
		on ok publishes ( PublicTestsRead )
	}
	ReadPublicTest {
		on ok publishes ( PublicTestRead )
	}
	ReadPrivateCourses {
		on ok publishes ( PrivateCoursesRead )
		on unauthorized publishes ( common.Error ) triggers (common.Logout)
	}
	ReadPrivateLessons {
		on ok publishes ( PrivateLessonsRead )
		on unauthorized publishes ( common.Error ) triggers (common.Logout)
	}
	ReadPrivateTests {
		on ok publishes ( PrivateTestsRead )
		on unauthorized publishes ( common.Error ) triggers (common.Logout)
	}
	ReadPrivateTest {
		on ok publishes ( PrivateTestRead )
		on unauthorized publishes ( common.Error ) triggers (common.Logout)
	}
	ReadResult {
		on ok publishes (ResultRead )
		on unauthorized publishes ( common.Error ) triggers (common.Logout)
	}
	ReadStatistics {
		on ok publishes ( StatisticsRead )
		on unauthorized publishes ( common.Error ) triggers (common.Logout)
	}
	ReadBoxes {
		on ok publishes ( BoxesRead )
		on unauthorized publishes ( common.Error ) triggers (common.Logout)
	}
	ReadNextCard {
		on ok publishes (NextCardRead )
		on unauthorized publishes ( common.Error ) triggers (common.Logout)
	}
	ReadReinforceCards {
		on ok publishes (card.SaveReinforceCards) triggers (card.DisplayNextReinforceCard)
		on unauthorized publishes ( common.Error ) triggers (common.Logout)
	}
}

events {
	PublicCoursesRead listenedToBy ( Navigation.renderPublicCourses Breadcrumbs.renderPublicCoursesBreadcrumbs )
	PublicLessonsRead listenedToBy ( Navigation.renderPublicLessons Content.renderPublicLessons Breadcrumbs.renderPublicLessonsBreadcrumbs )
	PublicTestsRead listenedToBy ( Navigation.renderPublicTests Content.renderPublicTests Breadcrumbs.renderPublicTestsBreadcrumbs )
	PublicTestRead listenedToBy ( Navigation.renderPublicTest Content.renderPublicTest Breadcrumbs.renderPublicTestsBreadcrumbs )
	PrivateCoursesRead listenedToBy ( Navigation.renderPrivateCourses Breadcrumbs.renderPrivateCoursesBreadcrumbs )
	PrivateLessonsRead listenedToBy ( Navigation.renderPrivateLessons Content.renderPrivateLessons Breadcrumbs.renderPrivateLessonsBreadcrumbs )
	PrivateTestsRead listenedToBy ( Navigation.renderPrivateTests Content.renderPrivateTests Breadcrumbs.renderPrivateTestsBreadcrumbs )
	PrivateTestRead listenedToBy ( Navigation.renderPrivateTest Content.renderPrivateTest Breadcrumbs.renderPrivateTestsBreadcrumbs )
	ResultRead listenedToBy ( Navigation.renderPrivateTest Content.renderPrivateTest Breadcrumbs.renderPrivateTestsBreadcrumbs Content.renderResult  )
	StatisticsRead listenedToBy ( Content.renderStatistics )
	BoxesRead listenedToBy ( Boxes.renderBoxes ) 
	NextCardRead listenedToBy ( Content.renderCard Boxes.activateBox )
}

views {
	Navigation {
		renderPublicCourses
		renderPublicLessons
		renderPublicTests
		renderPublicTest
		renderPrivateCourses
		renderPrivateLessons
		renderPrivateTests
		renderPrivateTest
	}
	Boxes {
		renderBoxes
		hideBoxes
		activateBox
	}
	Content {
		renderPublicCourses
		renderPublicLessons
		renderPublicTests
		renderPublicTest
		renderPrivateLessons
		renderPrivateTests
		renderPrivateTest
		renderResult
		renderStatistics
		renderCard
		renderNextReinforceCard
		renderReinforceFinished
	}
	Breadcrumbs {
		renderPublicCoursesBreadcrumbs
		renderPublicLessonsBreadcrumbs
		renderPublicTestsBreadcrumbs
		renderPrivateCoursesBreadcrumbs
		renderPrivateLessonsBreadcrumbs
		renderPrivateTestsBreadcrumbs
	}
	
}