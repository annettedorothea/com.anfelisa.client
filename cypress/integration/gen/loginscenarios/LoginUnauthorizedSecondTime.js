/********************************************************************************
 * generated by de.acegen 1.2.1
 ********************************************************************************/




import * as ScenarioUtils from "../../../acegen/src/ScenarioUtils";
import AppUtils from "../../../../es6/src/app/AppUtils";
import * as LoginActionIds from "../../../acegen/gen/login/LoginActionIds";
import * as CommonActionIds from "../../../acegen/gen/common/CommonActionIds";

const testId = ScenarioUtils.testId();

context('LoginUnauthorizedSecondTime', () => {
    beforeEach(() => {
    	let nonDeterministicValues;
    	let nonDeterministicValue;
		ScenarioUtils.getCypressFor(CommonActionIds.init);
		ScenarioUtils.getCypressFor(LoginActionIds.usernameChanged, [`username-${testId}`]);
		ScenarioUtils.getCypressFor(LoginActionIds.passwordChanged, [`password`]);
		ScenarioUtils.getCypressFor(LoginActionIds.login);
    })

			// Hallo?!?!?
    it('loggedInUserIsNotSet usernameInLocalStorateWasNotSet passwordInLocalStorateWasNotSet errorShown ', () => {
		//0
		ScenarioUtils.getCypressFor(LoginActionIds.login).should(() => {
			const appState = JSON.parse(localStorage.getItem('appState'))
			expect(appState.rootContainer.loggedInUser, "loggedInUserIsNotSet").to.eql(null)
			expect(appState.rootContainer.username, "usernameInLocalStorateWasNotSet").to.eql()
			expect(appState.rootContainer.password, "passwordInLocalStorateWasNotSet").to.eql()
			expect(appState.rootContainer.messages, "errorShown").to.eql([
				{ 
					code : 401,
					text : `Unauthorized`,
					textKey : `loginFailed`,
					type : `error`,
					visible : true,
					id : 0
				},
				{ 
					code : 401,
					text : `Unauthorized`,
					textKey : `loginFailed`,
					type : `error`,
					visible : true,
					id : 1
				}
			]
			)
		});
    })
})




/******* S.D.G. *******/




