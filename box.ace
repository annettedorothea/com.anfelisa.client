HttpClient

box

ACE 
	LoadBoxes 
		call com.anfelisa.box.GetBoxes
		loadingFlag common.state.State.displaySpinner 
		on ok ( 
			set common.state.State.data
			set common.state.State.data.Dashboard.boxList
			set common.state.State.view
		)
	
	CreateBox 
		call com.anfelisa.box.CreateBox
		loadingFlag common.state.State.displaySpinner 
		on ok triggers (common.Route)
	
	EditBox
		on ok (merge common.state.State.data)
	
	CancelEditBox 
		on ok (merge common.state.State.data)
	
	MaxIntervalChanged <editedMaxInterval>
		on ok (set common.state.State.data.Card.editedMaxInterval)
		on invalid
	
	EditMaxCardsPerDay
		on ok (merge common.state.State.data)
	
	CancelEditMaxCardsPerDay 
		on ok (merge common.state.State.data)
	
	MaxCardsPerDayChanged <editedMaxCardsPerDay>
		on ok (set common.state.State.data.Card.editedMaxCardsPerDay)
		on invalid
	
	UpdateBox 
		call com.anfelisa.box.UpdateBox
		loadingFlag common.state.State.displaySpinner 
		on ok (merge common.state.State.data) triggers (LoadBoxStatistics)
	
	DeleteBoxClick <boxId>
		on ok (set common.state.State.data.Dashboard.deleteBox)
	
	CancelDeleteBox 
		on ok (reset common.state.State.data.Dashboard.deleteBox)
	
	DeleteBox<boxId> 
		call com.anfelisa.box.DeleteBox
		loadingFlag common.state.State.displaySpinner 
		on ok triggers (LoadBoxes)
		on error (reset common.state.State.data.Dashboard.deleteBox.DeleteBox.confirmDelete) triggers (common.DisplayError)
	
	PostponeCardsOfBox <boxId> 
		call com.anfelisa.box.PostponeCards
		loadingFlag common.state.State.displaySpinner 
		on next triggers (LoadNextCard)
	
	LoadNextCard <boxId>
	 	call com.anfelisa.box.LoadNextCard
		loadingFlag common.state.State.displaySpinner 
		on ok (
			set common.state.State.view
			set common.state.State.data
			merge common.state.State.data
		) triggers (LoadBoxStatistics)
		on scheduleNext triggers (ScheduleNextCard)
		on doNotScheduleNext (
			set common.state.State.view
			set common.state.State.data
			merge common.state.State.data
		) triggers (LoadBoxStatistics)
	
	ScheduleNextCard 
		call com.anfelisa.box.ScheduleNextCard
		loadingFlag common.state.State.displaySpinner 
		on ok triggers (LoadNextCard)

	ToggleScheduleNext 
		on ok (merge common.state.State.data)
	
	DisplayWanted <wantedItemsLength> 
		on ok (
			merge common.state.State.data
		)
	
	ScoreCard <scoredCardQuality>
	 	call com.anfelisa.box.ScoreCard
		loadingFlag common.state.State.displaySpinner 
		on ok triggers (LoadNextCard)
	
	LoadNextReinforceCard <boxId>
	 	call com.anfelisa.box.LoadNextReinforceCard
		loadingFlag common.state.State.displaySpinner 
		on ok (
			set common.state.State.data 
			set common.state.State.view
			merge common.state.State.data
		) triggers (LoadBoxStatistics)
		on noCard triggers (common.Route)
	
	ScoreReinforceCard <quality>
		call com.anfelisa.box.ScoreReinforceCard
		loadingFlag common.state.State.displaySpinner 
		on ok triggers (LoadNextReinforceCard)
	
	LoadBoxStatistics <boxId>
	 	call com.anfelisa.box.GetBox
		loadingFlag common.state.State.displaySpinner 
		on ok (merge common.state.State.data)

